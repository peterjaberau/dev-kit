export const iconFunction =
  "M17,3.5 L16.8,3.5 C15.952,3.5 15.345,3.5 14.87,3.539 C14.401,3.577 14.104,3.651 13.865,3.772 C13.395,4.012 13.012,4.395 12.773,4.865 C12.651,5.104 12.577,5.401 12.539,5.87 C12.5,6.345 12.5,6.952 12.5,7.8 L12.5,9.5 L15,9.5 L15,10.5 L12.5,10.5 L12.5,16.223 C12.5,17.044 12.5,17.69 12.457,18.211 C12.414,18.742 12.324,19.186 12.118,19.589 C11.783,20.247 11.247,20.783 10.589,21.118 C10.186,21.324 9.742,21.414 9.211,21.457 C8.69,21.5 8.044,21.5 7.223,21.5 L7,21.5 L7,20.5 L7.2,20.5 C8.048,20.5 8.655,20.5 9.13,20.461 C9.599,20.423 9.896,20.349 10.135,20.227 C10.605,19.988 10.988,19.605 11.227,19.135 C11.349,18.896 11.423,18.599 11.461,18.13 C11.5,17.655 11.5,17.048 11.5,16.2 L11.5,10.5 L9,10.5 L9,9.5 L11.5,9.5 L11.5,7.777 C11.5,6.956 11.5,6.31 11.543,5.789 C11.586,5.258 11.676,4.814 11.882,4.411 C12.217,3.753 12.753,3.217 13.411,2.882 C13.814,2.676 14.258,2.586 14.789,2.543 C15.31,2.5 15.956,2.5 16.777,2.5 L17,2.5 L17,3.5 Z"
export const iconTable =
  "M2.327,3.638 C2.615,3.074 3.074,2.615 3.638,2.327 C4.28,2 5.12,2 6.8,2 L17.2,2 C18.88,2 19.72,2 20.362,2.327 C20.927,2.615 21.385,3.074 21.673,3.638 C22,4.28 22,5.12 22,6.8 L22,17.2 C22,18.88 22,19.72 21.673,20.362 C21.385,20.927 20.927,21.385 20.362,21.673 C19.72,22 18.88,22 17.2,22 L6.8,22 C5.12,22 4.28,22 3.638,21.673 C3.074,21.385 2.615,20.927 2.327,20.362 C2,19.72 2,18.88 2,17.2 L2,6.8 C2,5.12 2,4.28 2.327,3.638 Z M6.8,3 C5.943,3 5.361,3.001 4.911,3.038 C4.473,3.073 4.248,3.138 4.092,3.218 C3.716,3.41 3.41,3.716 3.218,4.092 C3.138,4.248 3.073,4.473 3.038,4.911 C3.001,5.361 3,5.943 3,6.8 L3,17.2 C3,18.057 3.001,18.639 3.038,19.089 C3.073,19.527 3.138,19.752 3.218,19.908 C3.41,20.284 3.716,20.59 4.092,20.782 C4.248,20.862 4.473,20.927 4.911,20.962 C5.361,20.999 5.943,21 6.8,21 L12.044,21 L12.044,3 Z M21,9.956 L12.956,9.956 L12.956,21 L17.2,21 C18.057,21 18.639,20.999 19.089,20.962 C19.527,20.927 19.752,20.862 19.908,20.782 C20.284,20.59 20.59,20.284 20.782,19.908 C20.862,19.752 20.927,19.527 20.962,19.089 C20.999,18.639 21,18.057 21,17.2 Z M17.2,3 L12.956,3 L12.956,9.044 L21,9.044 L21,6.8 C21,5.943 20.999,5.361 20.962,4.911 C20.927,4.473 20.862,4.248 20.782,4.092 C20.59,3.716 20.284,3.41 19.908,3.218 C19.752,3.138 19.527,3.073 19.089,3.038 C18.639,3.001 18.057,3 17.2,3 Z"
export const iconVariable =
  "M7.276,3.053 L7.724,3.947 C6.505,4.557 5.976,4.825 5.563,5.181 C4.862,5.785 4.364,6.59 4.137,7.487 C4.004,8.016 4,8.609 4,9.972 L4,13.028 C4,14.391 4.004,14.984 4.137,15.512 C4.364,16.41 4.862,17.215 5.563,17.819 C5.976,18.175 6.505,18.443 7.724,19.053 L7.276,19.947 L7.205,19.911 C6.078,19.348 5.429,19.023 4.91,18.576 C4.053,17.838 3.445,16.854 3.168,15.757 C3,15.094 3,14.368 3,13.108 L3,9.972 L3,9.892 C3,8.632 3,7.906 3.168,7.242 C3.445,6.146 4.053,5.162 4.91,4.423 C5.429,3.976 6.078,3.652 7.205,3.089 Z M16.724,3.053 L16.795,3.089 C17.922,3.652 18.571,3.976 19.09,4.423 C19.947,5.162 20.555,6.146 20.832,7.242 C21,7.906 21,8.632 21,9.892 L21,13.108 C21,14.368 21,15.094 20.832,15.757 C20.555,16.854 19.947,17.838 19.09,18.576 C18.571,19.023 17.922,19.348 16.795,19.911 L16.724,19.947 L16.276,19.053 C17.495,18.443 18.024,18.175 18.437,17.819 C19.138,17.215 19.636,16.41 19.863,15.512 C19.996,14.984 20,14.391 20,13.028 L20,9.972 C20,8.609 19.996,8.016 19.863,7.487 C19.636,6.59 19.138,5.785 18.437,5.181 C18.024,4.825 17.495,4.557 16.276,3.947 Z M11.375,11.5 L8.6,7.8 L9.4,7.2 L12,10.667 L14.6,7.2 L15.4,7.8 L12.625,11.5 L15.4,15.2 L14.6,15.8 L12,12.333 L9.4,15.8 L8.6,15.2 Z"

type TypeIcon = { type: string; icon: string; color: string }

const TYPE_ICONS: TypeIcon[] = [
  { type: "variable", icon: iconVariable, color: "#ffde00" }, // Params
  { type: "function", icon: iconFunction, color: "#ff9b67" }, // Functions
  { type: "class", icon: iconTable, color: "#FF00A0" }, // Tables
]

/**
 * Generate and insert custom completion icon styles
 */
export function generateEditorIcons() {
  const definitions = TYPE_ICONS.map((info) => {
    const svg = btoa(
      `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="${info.icon}" fill="${info.color}" stroke="${info.color}" stroke-width="0.75"></path></svg>`,
    )

    return `\t--surrealist-editor-icon-${info.type}: url('data:image/svg+xml;base64,${svg}')`
  })

  const css = `:root {\n${definitions.join(";\n")}}`
  const style = document.createElement("style")
  const text = document.createTextNode(css)

  style.setAttribute("type", "text/css")
  style.setAttribute("media", "screen")
  style.setAttribute("class", "surrealist-editor-icons")
  style.append(text)

  document.head.append(style)
}
