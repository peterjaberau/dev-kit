{
  "$ref": "#/definitions/AICodeReviewResult",
  "definitions": {
    "AICodeReviewResult": {
      "type": "object",
      "properties": {
        "assessment": {
          "type": "string",
          "enum": [
            "excellent",
            "good",
            "acceptable",
            "needs-improvement",
            "poor"
          ]
        },
        "score": {
          "type": "number",
          "minimum": 0,
          "maximum": 100
        },
        "issues": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "severity": {
                "type": "string",
                "enum": [
                  "critical",
                  "error",
                  "warning",
                  "info",
                  "style"
                ]
              },
              "category": {
                "type": "string",
                "enum": [
                  "bug",
                  "security",
                  "performance",
                  "maintainability",
                  "style",
                  "documentation",
                  "testing",
                  "type-safety",
                  "best-practice"
                ]
              },
              "file": {
                "type": "string"
              },
              "line": {
                "type": "integer"
              },
              "column": {
                "type": "integer"
              },
              "message": {
                "type": "string"
              },
              "suggestion": {
                "type": "string"
              },
              "autoFixable": {
                "type": "boolean",
                "default": false
              },
              "autoFix": {
                "type": "string",
                "description": "Automated fix code"
              }
            },
            "required": [
              "severity",
              "category",
              "file",
              "message"
            ],
            "additionalProperties": false
          }
        },
        "highlights": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "category": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "file": {
                "type": "string"
              }
            },
            "required": [
              "category",
              "description"
            ],
            "additionalProperties": false
          }
        },
        "metrics": {
          "type": "object",
          "properties": {
            "complexity": {
              "type": "number"
            },
            "maintainability": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "testCoverage": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "duplicateCode": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "technicalDebt": {
              "type": "string",
              "description": "Estimated technical debt"
            }
          },
          "additionalProperties": false
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "priority": {
                "type": "string",
                "enum": [
                  "high",
                  "medium",
                  "low"
                ]
              },
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "effort": {
                "type": "string",
                "enum": [
                  "trivial",
                  "small",
                  "medium",
                  "large"
                ]
              }
            },
            "required": [
              "priority",
              "title",
              "description"
            ],
            "additionalProperties": false
          }
        },
        "security": {
          "type": "object",
          "properties": {
            "vulnerabilities": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "severity": {
                    "type": "string",
                    "enum": [
                      "critical",
                      "high",
                      "medium",
                      "low"
                    ]
                  },
                  "type": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "remediation": {
                    "type": "string"
                  }
                },
                "required": [
                  "severity",
                  "type",
                  "description"
                ],
                "additionalProperties": false
              }
            },
            "score": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "assessment",
        "score",
        "issues",
        "recommendations"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}