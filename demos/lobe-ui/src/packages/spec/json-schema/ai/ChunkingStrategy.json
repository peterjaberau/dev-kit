{
  "$ref": "#/definitions/ChunkingStrategy",
  "definitions": {
    "ChunkingStrategy": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "fixed"
            },
            "chunkSize": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "description": "Fixed chunk size in tokens/chars"
            },
            "chunkOverlap": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "description": "Overlap between chunks"
            },
            "unit": {
              "type": "string",
              "enum": [
                "tokens",
                "characters"
              ],
              "default": "tokens"
            }
          },
          "required": [
            "type",
            "chunkSize"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "semantic"
            },
            "model": {
              "type": "string",
              "description": "Model for semantic chunking"
            },
            "minChunkSize": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 100
            },
            "maxChunkSize": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1000
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "recursive"
            },
            "separators": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "default": [
                "\n\n",
                "\n",
                " ",
                ""
              ]
            },
            "chunkSize": {
              "type": "integer",
              "exclusiveMinimum": 0
            },
            "chunkOverlap": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            }
          },
          "required": [
            "type",
            "chunkSize"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "markdown"
            },
            "maxChunkSize": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1000
            },
            "respectHeaders": {
              "type": "boolean",
              "default": true,
              "description": "Keep headers with content"
            },
            "respectCodeBlocks": {
              "type": "boolean",
              "default": true,
              "description": "Keep code blocks intact"
            }
          },
          "required": [
            "type"
          ],
          "additionalProperties": false
        }
      ]
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}