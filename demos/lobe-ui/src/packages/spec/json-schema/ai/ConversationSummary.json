{
  "$ref": "#/definitions/ConversationSummary",
  "definitions": {
    "ConversationSummary": {
      "type": "object",
      "properties": {
        "summary": {
          "type": "string",
          "description": "Conversation summary"
        },
        "keyPoints": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Key discussion points"
        },
        "originalTokens": {
          "type": "integer",
          "minimum": 0,
          "description": "Original token count"
        },
        "summaryTokens": {
          "type": "integer",
          "minimum": 0,
          "description": "Summary token count"
        },
        "tokensSaved": {
          "type": "integer",
          "minimum": 0,
          "description": "Tokens saved"
        },
        "messageRange": {
          "type": "object",
          "properties": {
            "startIndex": {
              "type": "integer",
              "minimum": 0
            },
            "endIndex": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": [
            "startIndex",
            "endIndex"
          ],
          "additionalProperties": false,
          "description": "Range of messages summarized"
        },
        "generatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp"
        },
        "modelId": {
          "type": "string",
          "description": "Model used for summarization"
        }
      },
      "required": [
        "summary",
        "originalTokens",
        "summaryTokens",
        "tokensSaved",
        "messageRange",
        "generatedAt"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}