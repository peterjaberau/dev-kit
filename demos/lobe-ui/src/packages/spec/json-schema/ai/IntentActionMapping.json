{
  "$ref": "#/definitions/IntentActionMapping",
  "definitions": {
    "IntentActionMapping": {
      "type": "object",
      "properties": {
        "intent": {
          "type": "string",
          "description": "Intent pattern (e.g., \"open_new_record_form\")"
        },
        "examples": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Example user queries"
        },
        "actionTemplate": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "description": "Unique action ID"
            },
            "type": {
              "type": "string",
              "enum": [
                "navigate_to_object_list",
                "navigate_to_object_form",
                "navigate_to_record_detail",
                "navigate_to_dashboard",
                "navigate_to_report",
                "navigate_to_app",
                "navigate_back",
                "navigate_home",
                "open_tab",
                "close_tab",
                "change_view_mode",
                "apply_filter",
                "clear_filter",
                "apply_sort",
                "change_grouping",
                "show_columns",
                "expand_record",
                "collapse_record",
                "refresh_view",
                "export_data",
                "create_record",
                "update_record",
                "delete_record",
                "fill_field",
                "clear_field",
                "submit_form",
                "cancel_form",
                "validate_form",
                "save_draft",
                "select_record",
                "deselect_record",
                "select_all",
                "deselect_all",
                "bulk_update",
                "bulk_delete",
                "bulk_export",
                "trigger_flow",
                "trigger_approval",
                "trigger_webhook",
                "run_report",
                "send_email",
                "send_notification",
                "schedule_task",
                "open_modal",
                "close_modal",
                "open_sidebar",
                "close_sidebar",
                "show_notification",
                "hide_notification",
                "open_dropdown",
                "close_dropdown",
                "toggle_section"
              ],
              "description": "Type of UI action to perform"
            },
            "params": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "description": "Object name (for object-specific navigation)"
                    },
                    "recordId": {
                      "type": "string",
                      "description": "Record ID (for detail page)"
                    },
                    "viewType": {
                      "type": "string",
                      "enum": [
                        "list",
                        "form",
                        "detail",
                        "kanban",
                        "calendar",
                        "gantt"
                      ]
                    },
                    "dashboardId": {
                      "type": "string",
                      "description": "Dashboard ID"
                    },
                    "reportId": {
                      "type": "string",
                      "description": "Report ID"
                    },
                    "appName": {
                      "type": "string",
                      "description": "App name"
                    },
                    "mode": {
                      "type": "string",
                      "enum": [
                        "new",
                        "edit",
                        "view"
                      ],
                      "description": "Form mode"
                    },
                    "openInNewTab": {
                      "type": "boolean",
                      "description": "Open in new tab"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "viewMode": {
                      "type": "string",
                      "enum": [
                        "list",
                        "kanban",
                        "calendar",
                        "gantt",
                        "pivot"
                      ]
                    },
                    "filters": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Filter conditions"
                    },
                    "sort": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string"
                          },
                          "order": {
                            "type": "string",
                            "enum": [
                              "asc",
                              "desc"
                            ]
                          }
                        },
                        "required": [
                          "field",
                          "order"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "groupBy": {
                      "type": "string",
                      "description": "Field to group by"
                    },
                    "columns": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Columns to show/hide"
                    },
                    "recordId": {
                      "type": "string",
                      "description": "Record to expand/collapse"
                    },
                    "exportFormat": {
                      "type": "string",
                      "enum": [
                        "csv",
                        "xlsx",
                        "pdf",
                        "json"
                      ]
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "description": "Object name"
                    },
                    "recordId": {
                      "type": "string",
                      "description": "Record ID (for edit/delete)"
                    },
                    "fieldValues": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Field name-value pairs"
                    },
                    "fieldName": {
                      "type": "string",
                      "description": "Specific field to fill/clear"
                    },
                    "fieldValue": {
                      "description": "Value to set"
                    },
                    "validateOnly": {
                      "type": "boolean",
                      "description": "Validate without saving"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "recordIds": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Record IDs to select/operate on"
                    },
                    "filters": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Filter for bulk operations"
                    },
                    "updateData": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Data for bulk update"
                    },
                    "exportFormat": {
                      "type": "string",
                      "enum": [
                        "csv",
                        "xlsx",
                        "pdf",
                        "json"
                      ]
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "flowName": {
                      "type": "string",
                      "description": "Flow/workflow name"
                    },
                    "approvalProcessName": {
                      "type": "string",
                      "description": "Approval process name"
                    },
                    "webhookUrl": {
                      "type": "string",
                      "description": "Webhook URL"
                    },
                    "reportName": {
                      "type": "string",
                      "description": "Report name"
                    },
                    "emailTemplate": {
                      "type": "string",
                      "description": "Email template"
                    },
                    "recipients": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Email recipients"
                    },
                    "subject": {
                      "type": "string",
                      "description": "Email subject"
                    },
                    "message": {
                      "type": "string",
                      "description": "Notification/email message"
                    },
                    "taskData": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Task creation data"
                    },
                    "scheduleTime": {
                      "type": "string",
                      "description": "Schedule time (ISO 8601)"
                    },
                    "contextData": {
                      "type": "object",
                      "additionalProperties": {},
                      "description": "Additional context data"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "componentId": {
                      "type": "string",
                      "description": "Component ID"
                    },
                    "modalConfig": {
                      "type": "object",
                      "properties": {
                        "title": {
                          "type": "string"
                        },
                        "content": {},
                        "size": {
                          "type": "string",
                          "enum": [
                            "small",
                            "medium",
                            "large",
                            "fullscreen"
                          ]
                        }
                      },
                      "additionalProperties": false
                    },
                    "notificationConfig": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "info",
                            "success",
                            "warning",
                            "error"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "duration": {
                          "type": "number",
                          "description": "Duration in ms"
                        }
                      },
                      "required": [
                        "message"
                      ],
                      "additionalProperties": false
                    },
                    "sidebarConfig": {
                      "type": "object",
                      "properties": {
                        "position": {
                          "type": "string",
                          "enum": [
                            "left",
                            "right"
                          ]
                        },
                        "width": {
                          "type": "string"
                        },
                        "content": {}
                      },
                      "additionalProperties": false
                    }
                  },
                  "additionalProperties": false
                }
              ],
              "description": "Action-specific parameters"
            },
            "requireConfirmation": {
              "type": "boolean",
              "default": false,
              "description": "Require user confirmation before executing"
            },
            "confirmationMessage": {
              "type": "string",
              "description": "Message to show in confirmation dialog"
            },
            "successMessage": {
              "type": "string",
              "description": "Message to show on success"
            },
            "onError": {
              "type": "string",
              "enum": [
                "retry",
                "skip",
                "abort"
              ],
              "default": "abort",
              "description": "Error handling strategy"
            },
            "metadata": {
              "type": "object",
              "properties": {
                "intent": {
                  "type": "string",
                  "description": "Original user intent/query"
                },
                "confidence": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "description": "Confidence score (0-1)"
                },
                "agentName": {
                  "type": "string",
                  "description": "Agent that generated this action"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Generation timestamp (ISO 8601)"
                }
              },
              "additionalProperties": false
            }
          },
          "required": [
            "type",
            "params"
          ],
          "additionalProperties": false,
          "description": "Action to execute"
        },
        "paramExtraction": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "entity",
                  "slot",
                  "context"
                ]
              },
              "required": {
                "type": "boolean",
                "default": false
              },
              "default": {}
            },
            "required": [
              "type"
            ],
            "additionalProperties": false
          },
          "description": "Rules for extracting parameters from user input"
        },
        "minConfidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "default": 0.7,
          "description": "Minimum confidence to execute"
        }
      },
      "required": [
        "intent",
        "actionTemplate"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}