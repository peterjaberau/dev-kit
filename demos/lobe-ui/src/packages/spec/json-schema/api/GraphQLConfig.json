{
  "$ref": "#/definitions/GraphQLConfig",
  "definitions": {
    "GraphQLConfig": {
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true,
          "description": "Enable GraphQL API"
        },
        "path": {
          "type": "string",
          "default": "/graphql",
          "description": "GraphQL endpoint path"
        },
        "playground": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Enable GraphQL Playground"
            },
            "path": {
              "type": "string",
              "default": "/playground",
              "description": "Playground path"
            }
          },
          "additionalProperties": false,
          "description": "GraphQL Playground configuration"
        },
        "schema": {
          "type": "object",
          "properties": {
            "autoGenerateTypes": {
              "type": "boolean",
              "default": true,
              "description": "Auto-generate types from Objects"
            },
            "types": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "GraphQL type name (PascalCase recommended)"
                  },
                  "object": {
                    "type": "string",
                    "description": "Source ObjectQL object name"
                  },
                  "description": {
                    "type": "string",
                    "description": "Type description"
                  },
                  "fields": {
                    "type": "object",
                    "properties": {
                      "include": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Fields to include"
                      },
                      "exclude": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Fields to exclude (e.g., sensitive fields)"
                      },
                      "mappings": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "properties": {
                            "graphqlName": {
                              "type": "string",
                              "description": "Custom GraphQL field name"
                            },
                            "graphqlType": {
                              "type": "string",
                              "description": "Override GraphQL type"
                            },
                            "description": {
                              "type": "string",
                              "description": "Field description"
                            },
                            "deprecationReason": {
                              "type": "string",
                              "description": "Why field is deprecated"
                            },
                            "nullable": {
                              "type": "boolean",
                              "description": "Override nullable"
                            }
                          },
                          "additionalProperties": false
                        },
                        "description": "Field-level customizations"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Field configuration"
                  },
                  "interfaces": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "GraphQL interface names"
                  },
                  "isInterface": {
                    "type": "boolean",
                    "default": false,
                    "description": "Define as GraphQL interface"
                  },
                  "directives": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Directive name"
                        },
                        "args": {
                          "type": "object",
                          "additionalProperties": {},
                          "description": "Directive arguments"
                        }
                      },
                      "required": [
                        "name"
                      ],
                      "additionalProperties": false
                    },
                    "description": "GraphQL directives"
                  }
                },
                "required": [
                  "name",
                  "object"
                ],
                "additionalProperties": false
              },
              "description": "Type configurations"
            },
            "queries": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Query field name (camelCase recommended)"
                  },
                  "object": {
                    "type": "string",
                    "description": "Source ObjectQL object name"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "get",
                      "list",
                      "search"
                    ],
                    "description": "Query type"
                  },
                  "description": {
                    "type": "string",
                    "description": "Query description"
                  },
                  "args": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "GraphQL type (e.g., \"ID!\", \"String\", \"Int\")"
                        },
                        "description": {
                          "type": "string",
                          "description": "Argument description"
                        },
                        "defaultValue": {
                          "description": "Default value"
                        }
                      },
                      "required": [
                        "type"
                      ],
                      "additionalProperties": false
                    },
                    "description": "Query arguments"
                  },
                  "filtering": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Allow filtering"
                      },
                      "fields": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Filterable fields"
                      },
                      "operators": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "eq",
                            "ne",
                            "gt",
                            "gte",
                            "lt",
                            "lte",
                            "in",
                            "notIn",
                            "contains",
                            "startsWith",
                            "endsWith",
                            "isNull",
                            "isNotNull"
                          ]
                        },
                        "description": "Allowed filter operators"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Filtering capabilities"
                  },
                  "sorting": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Allow sorting"
                      },
                      "fields": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Sortable fields"
                      },
                      "defaultSort": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string"
                          },
                          "direction": {
                            "type": "string",
                            "enum": [
                              "ASC",
                              "DESC"
                            ]
                          }
                        },
                        "required": [
                          "field",
                          "direction"
                        ],
                        "additionalProperties": false,
                        "description": "Default sort order"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Sorting capabilities"
                  },
                  "pagination": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Enable pagination"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "offset",
                          "cursor",
                          "relay"
                        ],
                        "default": "offset",
                        "description": "Pagination style"
                      },
                      "defaultLimit": {
                        "type": "integer",
                        "minimum": 1,
                        "default": 20,
                        "description": "Default page size"
                      },
                      "maxLimit": {
                        "type": "integer",
                        "minimum": 1,
                        "default": 100,
                        "description": "Maximum page size"
                      },
                      "cursors": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "default": "id",
                            "description": "Field to use for cursor pagination"
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false,
                    "description": "Pagination configuration"
                  },
                  "fields": {
                    "type": "object",
                    "properties": {
                      "required": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Required fields (always returned)"
                      },
                      "selectable": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Selectable fields"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Field selection configuration"
                  },
                  "authRequired": {
                    "type": "boolean",
                    "default": true,
                    "description": "Require authentication"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Required permissions"
                  },
                  "cache": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": false,
                        "description": "Enable caching"
                      },
                      "ttl": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Cache TTL in seconds"
                      },
                      "key": {
                        "type": "string",
                        "description": "Cache key template"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Query caching"
                  }
                },
                "required": [
                  "name",
                  "object",
                  "type"
                ],
                "additionalProperties": false
              },
              "description": "Query configurations"
            },
            "mutations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Mutation field name (camelCase recommended)"
                  },
                  "object": {
                    "type": "string",
                    "description": "Source ObjectQL object name"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "create",
                      "update",
                      "delete",
                      "upsert",
                      "custom"
                    ],
                    "description": "Mutation type"
                  },
                  "description": {
                    "type": "string",
                    "description": "Mutation description"
                  },
                  "input": {
                    "type": "object",
                    "properties": {
                      "typeName": {
                        "type": "string",
                        "description": "Custom input type name"
                      },
                      "fields": {
                        "type": "object",
                        "properties": {
                          "include": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Fields to include"
                          },
                          "exclude": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Fields to exclude"
                          },
                          "required": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Required input fields"
                          }
                        },
                        "additionalProperties": false,
                        "description": "Input field configuration"
                      },
                      "validation": {
                        "type": "object",
                        "properties": {
                          "enabled": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable input validation"
                          },
                          "rules": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "Custom validation rules"
                          }
                        },
                        "additionalProperties": false,
                        "description": "Input validation"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Input configuration"
                  },
                  "output": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "object",
                          "payload",
                          "boolean",
                          "custom"
                        ],
                        "default": "object",
                        "description": "Output type"
                      },
                      "includeEnvelope": {
                        "type": "boolean",
                        "default": false,
                        "description": "Wrap in success/error payload"
                      },
                      "customType": {
                        "type": "string",
                        "description": "Custom output type name"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Output configuration"
                  },
                  "transaction": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Use database transaction"
                      },
                      "isolationLevel": {
                        "type": "string",
                        "enum": [
                          "read_uncommitted",
                          "read_committed",
                          "repeatable_read",
                          "serializable"
                        ],
                        "description": "Transaction isolation level"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Transaction configuration"
                  },
                  "authRequired": {
                    "type": "boolean",
                    "default": true,
                    "description": "Require authentication"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Required permissions"
                  },
                  "hooks": {
                    "type": "object",
                    "properties": {
                      "before": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Pre-mutation hooks"
                      },
                      "after": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Post-mutation hooks"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Lifecycle hooks"
                  }
                },
                "required": [
                  "name",
                  "object",
                  "type"
                ],
                "additionalProperties": false
              },
              "description": "Mutation configurations"
            },
            "subscriptions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Subscription field name (camelCase recommended)"
                  },
                  "object": {
                    "type": "string",
                    "description": "Source ObjectQL object name"
                  },
                  "events": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "created",
                        "updated",
                        "deleted",
                        "custom"
                      ]
                    },
                    "description": "Events to subscribe to"
                  },
                  "description": {
                    "type": "string",
                    "description": "Subscription description"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Allow filtering subscriptions"
                      },
                      "fields": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Filterable fields"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Subscription filtering"
                  },
                  "payload": {
                    "type": "object",
                    "properties": {
                      "includeEntity": {
                        "type": "boolean",
                        "default": true,
                        "description": "Include entity in payload"
                      },
                      "includePreviousValues": {
                        "type": "boolean",
                        "default": false,
                        "description": "Include previous field values"
                      },
                      "includeMeta": {
                        "type": "boolean",
                        "default": true,
                        "description": "Include metadata (timestamp, user, etc.)"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Payload configuration"
                  },
                  "authRequired": {
                    "type": "boolean",
                    "default": true,
                    "description": "Require authentication"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Required permissions"
                  },
                  "rateLimit": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": true,
                        "description": "Enable rate limiting"
                      },
                      "maxSubscriptionsPerUser": {
                        "type": "integer",
                        "minimum": 1,
                        "default": 10,
                        "description": "Max concurrent subscriptions per user"
                      },
                      "throttleMs": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Throttle interval in milliseconds"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Subscription rate limiting"
                  }
                },
                "required": [
                  "name",
                  "object",
                  "events"
                ],
                "additionalProperties": false
              },
              "description": "Subscription configurations"
            },
            "resolvers": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "path": {
                    "type": "string",
                    "description": "Resolver path (Type.field)"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "datasource",
                      "computed",
                      "script",
                      "proxy"
                    ],
                    "description": "Resolver implementation type"
                  },
                  "implementation": {
                    "type": "object",
                    "properties": {
                      "datasource": {
                        "type": "string",
                        "description": "Datasource ID"
                      },
                      "query": {
                        "type": "string",
                        "description": "Query/SQL to execute"
                      },
                      "expression": {
                        "type": "string",
                        "description": "Computation expression"
                      },
                      "dependencies": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Dependent fields"
                      },
                      "script": {
                        "type": "string",
                        "description": "Script ID or inline code"
                      },
                      "url": {
                        "type": "string",
                        "description": "Proxy URL"
                      },
                      "method": {
                        "type": "string",
                        "enum": [
                          "GET",
                          "POST",
                          "PUT",
                          "DELETE"
                        ],
                        "description": "HTTP method"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Implementation configuration"
                  },
                  "cache": {
                    "type": "object",
                    "properties": {
                      "enabled": {
                        "type": "boolean",
                        "default": false,
                        "description": "Enable resolver caching"
                      },
                      "ttl": {
                        "type": "integer",
                        "minimum": 0,
                        "description": "Cache TTL in seconds"
                      },
                      "keyArgs": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "Arguments to include in cache key"
                      }
                    },
                    "additionalProperties": false,
                    "description": "Resolver caching"
                  }
                },
                "required": [
                  "path",
                  "type"
                ],
                "additionalProperties": false
              },
              "description": "Custom resolver configurations"
            },
            "directives": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "pattern": "^[a-z][a-zA-Z0-9]*$",
                    "description": "Directive name (camelCase)"
                  },
                  "description": {
                    "type": "string",
                    "description": "Directive description"
                  },
                  "locations": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "QUERY",
                        "MUTATION",
                        "SUBSCRIPTION",
                        "FIELD",
                        "FRAGMENT_DEFINITION",
                        "FRAGMENT_SPREAD",
                        "INLINE_FRAGMENT",
                        "VARIABLE_DEFINITION",
                        "SCHEMA",
                        "SCALAR",
                        "OBJECT",
                        "FIELD_DEFINITION",
                        "ARGUMENT_DEFINITION",
                        "INTERFACE",
                        "UNION",
                        "ENUM",
                        "ENUM_VALUE",
                        "INPUT_OBJECT",
                        "INPUT_FIELD_DEFINITION"
                      ]
                    },
                    "description": "Directive locations"
                  },
                  "args": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "Argument type"
                        },
                        "description": {
                          "type": "string",
                          "description": "Argument description"
                        },
                        "defaultValue": {
                          "description": "Default value"
                        }
                      },
                      "required": [
                        "type"
                      ],
                      "additionalProperties": false
                    },
                    "description": "Directive arguments"
                  },
                  "repeatable": {
                    "type": "boolean",
                    "default": false,
                    "description": "Can be applied multiple times"
                  },
                  "implementation": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "auth",
                          "validation",
                          "transform",
                          "cache",
                          "deprecation",
                          "custom"
                        ],
                        "description": "Directive type"
                      },
                      "handler": {
                        "type": "string",
                        "description": "Handler function name or script"
                      }
                    },
                    "required": [
                      "type"
                    ],
                    "additionalProperties": false,
                    "description": "Directive implementation"
                  }
                },
                "required": [
                  "name",
                  "locations"
                ],
                "additionalProperties": false
              },
              "description": "Custom directive configurations"
            }
          },
          "additionalProperties": false,
          "description": "Schema generation configuration"
        },
        "dataLoaders": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "DataLoader name"
              },
              "source": {
                "type": "string",
                "description": "Source object or datasource"
              },
              "batchFunction": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "findByIds",
                      "query",
                      "script",
                      "custom"
                    ],
                    "description": "Batch function type"
                  },
                  "keyField": {
                    "type": "string",
                    "description": "Field to batch on (e.g., \"id\")"
                  },
                  "query": {
                    "type": "string",
                    "description": "Query template"
                  },
                  "script": {
                    "type": "string",
                    "description": "Script ID"
                  },
                  "maxBatchSize": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 100,
                    "description": "Maximum batch size"
                  }
                },
                "required": [
                  "type"
                ],
                "additionalProperties": false,
                "description": "Batch function configuration"
              },
              "cache": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable per-request caching"
                  },
                  "keyFn": {
                    "type": "string",
                    "description": "Custom cache key function"
                  }
                },
                "additionalProperties": false,
                "description": "DataLoader caching"
              },
              "options": {
                "type": "object",
                "properties": {
                  "batch": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable batching"
                  },
                  "cache": {
                    "type": "boolean",
                    "default": true,
                    "description": "Enable caching"
                  },
                  "maxCacheSize": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "Max cache entries"
                  }
                },
                "additionalProperties": false,
                "description": "DataLoader options"
              }
            },
            "required": [
              "name",
              "source",
              "batchFunction"
            ],
            "additionalProperties": false
          },
          "description": "DataLoader configurations"
        },
        "security": {
          "type": "object",
          "properties": {
            "depthLimit": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable query depth limiting"
                },
                "maxDepth": {
                  "type": "integer",
                  "minimum": 1,
                  "default": 10,
                  "description": "Maximum query depth"
                },
                "ignoreFields": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Fields excluded from depth calculation"
                },
                "onDepthExceeded": {
                  "type": "string",
                  "enum": [
                    "reject",
                    "log",
                    "warn"
                  ],
                  "default": "reject",
                  "description": "Action when depth exceeded"
                },
                "errorMessage": {
                  "type": "string",
                  "description": "Custom error message for depth violations"
                }
              },
              "additionalProperties": false,
              "description": "Query depth limiting"
            },
            "complexity": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable query complexity limiting"
                },
                "maxComplexity": {
                  "type": "integer",
                  "minimum": 1,
                  "default": 1000,
                  "description": "Maximum query complexity"
                },
                "defaultFieldComplexity": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 1,
                  "description": "Default complexity per field"
                },
                "fieldComplexity": {
                  "type": "object",
                  "additionalProperties": {
                    "anyOf": [
                      {
                        "type": "integer",
                        "minimum": 0
                      },
                      {
                        "type": "object",
                        "properties": {
                          "base": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Base complexity"
                          },
                          "multiplier": {
                            "type": "string",
                            "description": "Argument multiplier (e.g., \"limit\")"
                          },
                          "calculator": {
                            "type": "string",
                            "description": "Custom calculator function"
                          }
                        },
                        "required": [
                          "base"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  },
                  "description": "Per-field complexity configuration"
                },
                "listMultiplier": {
                  "type": "number",
                  "minimum": 0,
                  "default": 10,
                  "description": "Multiplier for list fields"
                },
                "onComplexityExceeded": {
                  "type": "string",
                  "enum": [
                    "reject",
                    "log",
                    "warn"
                  ],
                  "default": "reject",
                  "description": "Action when complexity exceeded"
                },
                "errorMessage": {
                  "type": "string",
                  "description": "Custom error message for complexity violations"
                }
              },
              "additionalProperties": false,
              "description": "Query complexity calculation"
            },
            "rateLimit": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable rate limiting"
                },
                "strategy": {
                  "type": "string",
                  "enum": [
                    "token_bucket",
                    "fixed_window",
                    "sliding_window",
                    "cost_based"
                  ],
                  "default": "token_bucket",
                  "description": "Rate limiting strategy"
                },
                "global": {
                  "type": "object",
                  "properties": {
                    "maxRequests": {
                      "type": "integer",
                      "minimum": 1,
                      "default": 1000,
                      "description": "Maximum requests per window"
                    },
                    "windowMs": {
                      "type": "integer",
                      "minimum": 1000,
                      "default": 60000,
                      "description": "Time window in milliseconds"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Global rate limits"
                },
                "perUser": {
                  "type": "object",
                  "properties": {
                    "maxRequests": {
                      "type": "integer",
                      "minimum": 1,
                      "default": 100,
                      "description": "Maximum requests per user per window"
                    },
                    "windowMs": {
                      "type": "integer",
                      "minimum": 1000,
                      "default": 60000,
                      "description": "Time window in milliseconds"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Per-user rate limits"
                },
                "costBased": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": false,
                      "description": "Enable cost-based rate limiting"
                    },
                    "maxCost": {
                      "type": "integer",
                      "minimum": 1,
                      "default": 10000,
                      "description": "Maximum cost per window"
                    },
                    "windowMs": {
                      "type": "integer",
                      "minimum": 1000,
                      "default": 60000,
                      "description": "Time window in milliseconds"
                    },
                    "useComplexityAsCost": {
                      "type": "boolean",
                      "default": true,
                      "description": "Use query complexity as cost"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Cost-based rate limiting"
                },
                "operations": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "maxRequests": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Max requests for this operation"
                      },
                      "windowMs": {
                        "type": "integer",
                        "minimum": 1000,
                        "description": "Time window"
                      }
                    },
                    "required": [
                      "maxRequests",
                      "windowMs"
                    ],
                    "additionalProperties": false
                  },
                  "description": "Per-operation rate limits"
                },
                "onLimitExceeded": {
                  "type": "string",
                  "enum": [
                    "reject",
                    "queue",
                    "log"
                  ],
                  "default": "reject",
                  "description": "Action when rate limit exceeded"
                },
                "errorMessage": {
                  "type": "string",
                  "description": "Custom error message for rate limit violations"
                },
                "includeHeaders": {
                  "type": "boolean",
                  "default": true,
                  "description": "Include rate limit headers in response"
                }
              },
              "additionalProperties": false,
              "description": "Rate limiting"
            },
            "persistedQueries": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false,
                  "description": "Enable persisted queries"
                },
                "mode": {
                  "type": "string",
                  "enum": [
                    "optional",
                    "required"
                  ],
                  "default": "optional",
                  "description": "Persisted query mode (optional: allow both, required: only persisted)"
                },
                "store": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "memory",
                        "redis",
                        "database",
                        "file"
                      ],
                      "default": "memory",
                      "description": "Query store type"
                    },
                    "connection": {
                      "type": "string",
                      "description": "Store connection string or path"
                    },
                    "ttl": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "TTL in seconds for stored queries"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Query store configuration"
                },
                "apq": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true,
                      "description": "Enable Automatic Persisted Queries"
                    },
                    "hashAlgorithm": {
                      "type": "string",
                      "enum": [
                        "sha256",
                        "sha1",
                        "md5"
                      ],
                      "default": "sha256",
                      "description": "Hash algorithm for query IDs"
                    },
                    "cache": {
                      "type": "object",
                      "properties": {
                        "ttl": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 3600,
                          "description": "Cache TTL in seconds"
                        },
                        "maxSize": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Maximum number of cached queries"
                        }
                      },
                      "additionalProperties": false,
                      "description": "APQ cache configuration"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Automatic Persisted Queries configuration"
                },
                "allowlist": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": false,
                      "description": "Enable query allow list (reject queries not in list)"
                    },
                    "queries": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "Query ID or hash"
                          },
                          "operation": {
                            "type": "string",
                            "description": "Operation name"
                          },
                          "query": {
                            "type": "string",
                            "description": "Query string"
                          }
                        },
                        "required": [
                          "id"
                        ],
                        "additionalProperties": false
                      },
                      "description": "Allowed queries"
                    },
                    "source": {
                      "type": "string",
                      "description": "External allow list source (file path or URL)"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Query allow list configuration"
                },
                "security": {
                  "type": "object",
                  "properties": {
                    "maxQuerySize": {
                      "type": "integer",
                      "minimum": 1,
                      "description": "Maximum query string size in bytes"
                    },
                    "rejectIntrospection": {
                      "type": "boolean",
                      "default": false,
                      "description": "Reject introspection queries"
                    }
                  },
                  "additionalProperties": false,
                  "description": "Security configuration"
                }
              },
              "additionalProperties": false,
              "description": "Persisted queries"
            }
          },
          "additionalProperties": false,
          "description": "Security configuration"
        }
      },
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}