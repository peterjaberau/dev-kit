{
  "$ref": "#/definitions/GraphQLMutationConfig",
  "definitions": {
    "GraphQLMutationConfig": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Mutation field name (camelCase recommended)"
        },
        "object": {
          "type": "string",
          "description": "Source ObjectQL object name"
        },
        "type": {
          "type": "string",
          "enum": [
            "create",
            "update",
            "delete",
            "upsert",
            "custom"
          ],
          "description": "Mutation type"
        },
        "description": {
          "type": "string",
          "description": "Mutation description"
        },
        "input": {
          "type": "object",
          "properties": {
            "typeName": {
              "type": "string",
              "description": "Custom input type name"
            },
            "fields": {
              "type": "object",
              "properties": {
                "include": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Fields to include"
                },
                "exclude": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Fields to exclude"
                },
                "required": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Required input fields"
                }
              },
              "additionalProperties": false,
              "description": "Input field configuration"
            },
            "validation": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true,
                  "description": "Enable input validation"
                },
                "rules": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Custom validation rules"
                }
              },
              "additionalProperties": false,
              "description": "Input validation"
            }
          },
          "additionalProperties": false,
          "description": "Input configuration"
        },
        "output": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "object",
                "payload",
                "boolean",
                "custom"
              ],
              "default": "object",
              "description": "Output type"
            },
            "includeEnvelope": {
              "type": "boolean",
              "default": false,
              "description": "Wrap in success/error payload"
            },
            "customType": {
              "type": "string",
              "description": "Custom output type name"
            }
          },
          "additionalProperties": false,
          "description": "Output configuration"
        },
        "transaction": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true,
              "description": "Use database transaction"
            },
            "isolationLevel": {
              "type": "string",
              "enum": [
                "read_uncommitted",
                "read_committed",
                "repeatable_read",
                "serializable"
              ],
              "description": "Transaction isolation level"
            }
          },
          "additionalProperties": false,
          "description": "Transaction configuration"
        },
        "authRequired": {
          "type": "boolean",
          "default": true,
          "description": "Require authentication"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Required permissions"
        },
        "hooks": {
          "type": "object",
          "properties": {
            "before": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Pre-mutation hooks"
            },
            "after": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Post-mutation hooks"
            }
          },
          "additionalProperties": false,
          "description": "Lifecycle hooks"
        }
      },
      "required": [
        "name",
        "object",
        "type"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}