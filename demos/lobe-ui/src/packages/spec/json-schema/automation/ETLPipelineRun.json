{
  "$ref": "#/definitions/ETLPipelineRun",
  "definitions": {
    "ETLPipelineRun": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Run identifier"
        },
        "pipelineName": {
          "type": "string",
          "description": "Pipeline name"
        },
        "status": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "succeeded",
            "failed",
            "cancelled",
            "timeout"
          ],
          "description": "Run status"
        },
        "startedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Start time"
        },
        "completedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Completion time"
        },
        "durationMs": {
          "type": "number",
          "description": "Duration in ms"
        },
        "stats": {
          "type": "object",
          "properties": {
            "recordsRead": {
              "type": "integer",
              "default": 0,
              "description": "Records extracted"
            },
            "recordsWritten": {
              "type": "integer",
              "default": 0,
              "description": "Records loaded"
            },
            "recordsErrored": {
              "type": "integer",
              "default": 0,
              "description": "Records with errors"
            },
            "bytesProcessed": {
              "type": "integer",
              "default": 0,
              "description": "Bytes processed"
            }
          },
          "additionalProperties": false,
          "description": "Run statistics"
        },
        "error": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string",
              "description": "Error message"
            },
            "code": {
              "type": "string",
              "description": "Error code"
            },
            "details": {
              "description": "Error details"
            }
          },
          "required": [
            "message"
          ],
          "additionalProperties": false,
          "description": "Error information"
        },
        "logs": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Execution logs"
        }
      },
      "required": [
        "id",
        "pipelineName",
        "status",
        "startedAt"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}