{
  "$ref": "#/definitions/LevelIsolationStrategySchema",
  "definitions": {
    "LevelIsolationStrategySchema": {
      "type": "object",
      "properties": {
        "strategy": {
          "type": "string",
          "const": "isolated_schema",
          "description": "Schema-level isolation strategy"
        },
        "schema": {
          "type": "object",
          "properties": {
            "namingPattern": {
              "type": "string",
              "default": "tenant_{tenant_id}",
              "description": "Schema naming pattern"
            },
            "includePublicSchema": {
              "type": "boolean",
              "default": true,
              "description": "Include public schema"
            },
            "sharedSchema": {
              "type": "string",
              "default": "public",
              "description": "Schema for shared resources"
            },
            "autoCreateSchema": {
              "type": "boolean",
              "default": true,
              "description": "Auto-create schema"
            }
          },
          "additionalProperties": false,
          "description": "Schema configuration"
        },
        "migrations": {
          "type": "object",
          "properties": {
            "strategy": {
              "type": "string",
              "enum": [
                "parallel",
                "sequential",
                "on_demand"
              ],
              "default": "parallel",
              "description": "Migration strategy"
            },
            "maxConcurrent": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 10,
              "description": "Max concurrent migrations"
            },
            "rollbackOnError": {
              "type": "boolean",
              "default": true,
              "description": "Rollback on error"
            }
          },
          "additionalProperties": false,
          "description": "Migration configuration"
        },
        "performance": {
          "type": "object",
          "properties": {
            "poolPerSchema": {
              "type": "boolean",
              "default": false,
              "description": "Separate pool per schema"
            },
            "schemaCacheTTL": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 3600,
              "description": "Schema cache TTL"
            }
          },
          "additionalProperties": false,
          "description": "Performance settings"
        }
      },
      "required": [
        "strategy"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}