{
  "$ref": "#/definitions/Manifest",
  "definitions": {
    "Manifest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique package identifier (reverse domain style)"
        },
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Package version (semantic versioning)"
        },
        "type": {
          "type": "string",
          "enum": [
            "plugin",
            "ui",
            "driver",
            "server",
            "app",
            "theme",
            "agent",
            "objectql",
            "module",
            "gateway",
            "adapter"
          ],
          "description": "Type of package"
        },
        "name": {
          "type": "string",
          "description": "Human-readable package name"
        },
        "description": {
          "type": "string",
          "description": "Package description"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Array of required permission strings"
        },
        "objects": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Glob patterns for ObjectQL schemas files"
        },
        "datasources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Glob patterns for Datasource definitions"
        },
        "dependencies": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Package dependencies"
        },
        "configuration": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string"
            },
            "properties": {
              "type": "object",
              "additionalProperties": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "string",
                      "number",
                      "boolean",
                      "array",
                      "object"
                    ],
                    "description": "Data type of the setting"
                  },
                  "default": {
                    "description": "Default value"
                  },
                  "description": {
                    "type": "string",
                    "description": "Tooltip description"
                  },
                  "required": {
                    "type": "boolean",
                    "description": "Is this setting required?"
                  },
                  "secret": {
                    "type": "boolean",
                    "description": "If true, value is encrypted/masked (e.g. API Keys)"
                  },
                  "enum": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Allowed values for select inputs"
                  }
                },
                "required": [
                  "type"
                ],
                "additionalProperties": false
              },
              "description": "Map of configuration keys to their definitions"
            }
          },
          "required": [
            "properties"
          ],
          "additionalProperties": false,
          "description": "Plugin configuration settings"
        },
        "contributes": {
          "type": "object",
          "properties": {
            "kinds": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "The generic identifier of the kind (e.g., \"sys.bi.report\")"
                  },
                  "globs": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "File patterns to watch (e.g., [\"**/*.report.ts\"])"
                  },
                  "description": {
                    "type": "string",
                    "description": "Description of what this kind represents"
                  }
                },
                "required": [
                  "id",
                  "globs"
                ],
                "additionalProperties": false
              },
              "description": "New Metadata Types to recognize"
            },
            "events": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Events this plugin listens to"
            },
            "menus": {
              "type": "object",
              "additionalProperties": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "label": {
                      "type": "string"
                    },
                    "command": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id",
                    "label"
                  ],
                  "additionalProperties": false
                }
              },
              "description": "UI Menu contributions"
            },
            "themes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "label": {
                    "type": "string"
                  },
                  "path": {
                    "type": "string"
                  }
                },
                "required": [
                  "id",
                  "label",
                  "path"
                ],
                "additionalProperties": false
              },
              "description": "Theme contributions"
            },
            "translations": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string"
                  },
                  "path": {
                    "type": "string"
                  }
                },
                "required": [
                  "locale",
                  "path"
                ],
                "additionalProperties": false
              },
              "description": "Translation resources"
            },
            "actions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Unique action name"
                  },
                  "label": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "input": {
                    "description": "Input validation schema"
                  },
                  "output": {
                    "description": "Output schema"
                  }
                },
                "required": [
                  "name"
                ],
                "additionalProperties": false
              },
              "description": "Exposed server actions"
            },
            "drivers": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Driver unique identifier (e.g. \"postgres\", \"mongo\")"
                  },
                  "label": {
                    "type": "string",
                    "description": "Human readable name"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "required": [
                  "id",
                  "label"
                ],
                "additionalProperties": false
              },
              "description": "Driver contributions"
            },
            "fieldTypes": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Unique field type name (e.g. \"vector\")"
                  },
                  "label": {
                    "type": "string",
                    "description": "Display label"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "label"
                ],
                "additionalProperties": false
              },
              "description": "Field Type contributions"
            },
            "functions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Function name (e.g. \"distance\")"
                  },
                  "description": {
                    "type": "string"
                  },
                  "args": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Argument types"
                  },
                  "returnType": {
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "additionalProperties": false
              },
              "description": "Query Function contributions"
            }
          },
          "additionalProperties": false,
          "description": "Platform contributions"
        },
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "object": {
                "type": "string",
                "description": "Target Object Name"
              },
              "records": {
                "type": "array",
                "items": {
                  "type": "object",
                  "additionalProperties": {}
                },
                "description": "List of records to insert"
              },
              "mode": {
                "type": "string",
                "enum": [
                  "upsert",
                  "insert",
                  "ignore"
                ],
                "default": "upsert",
                "description": "Seeding mode"
              }
            },
            "required": [
              "object",
              "records"
            ],
            "additionalProperties": false
          },
          "description": "Initial seed data"
        },
        "capabilities": {
          "type": "object",
          "properties": {
            "implements": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "protocol": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "pattern": "^([a-z][a-z0-9]*\\.)+protocol\\.[a-z][a-z0-9._]*\\.v\\d+$",
                        "description": "Unique protocol identifier (e.g., com.objectstack.protocol.storage.v1)"
                      },
                      "label": {
                        "type": "string"
                      },
                      "version": {
                        "type": "object",
                        "properties": {
                          "major": {
                            "type": "integer",
                            "minimum": 0
                          },
                          "minor": {
                            "type": "integer",
                            "minimum": 0
                          },
                          "patch": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "major",
                          "minor",
                          "patch"
                        ],
                        "additionalProperties": false,
                        "description": "Semantic version of the protocol"
                      },
                      "specification": {
                        "type": "string",
                        "description": "URL or path to protocol specification"
                      },
                      "description": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "id",
                      "label",
                      "version"
                    ],
                    "additionalProperties": false
                  },
                  "conformance": {
                    "type": "string",
                    "enum": [
                      "full",
                      "partial",
                      "experimental",
                      "deprecated"
                    ],
                    "description": "Level of protocol conformance",
                    "default": "full"
                  },
                  "implementedFeatures": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "List of implemented feature names"
                  },
                  "features": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Feature identifier within the protocol"
                        },
                        "enabled": {
                          "type": "boolean",
                          "default": true
                        },
                        "description": {
                          "type": "string"
                        },
                        "sinceVersion": {
                          "type": "string",
                          "description": "Version when this feature was added"
                        },
                        "deprecatedSince": {
                          "type": "string",
                          "description": "Version when deprecated"
                        }
                      },
                      "required": [
                        "name"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "metadata": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "certified": {
                    "type": "boolean",
                    "default": false,
                    "description": "Has passed official conformance tests"
                  },
                  "certificationDate": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": [
                  "protocol"
                ],
                "additionalProperties": false
              },
              "description": "List of protocols this plugin conforms to"
            },
            "provides": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "pattern": "^([a-z][a-z0-9]*\\.)+interface\\.[a-z][a-z0-9._]+$",
                    "description": "Unique interface identifier"
                  },
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "version": {
                    "type": "object",
                    "properties": {
                      "major": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "minor": {
                        "type": "integer",
                        "minimum": 0
                      },
                      "patch": {
                        "type": "integer",
                        "minimum": 0
                      }
                    },
                    "required": [
                      "major",
                      "minor",
                      "patch"
                    ],
                    "additionalProperties": false,
                    "description": "Semantic version of the protocol"
                  },
                  "methods": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Method name"
                        },
                        "description": {
                          "type": "string"
                        },
                        "parameters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string",
                                "description": "Type notation (e.g., string, number, User)"
                              },
                              "required": {
                                "type": "boolean",
                                "default": true
                              },
                              "description": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "name",
                              "type"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "returnType": {
                          "type": "string",
                          "description": "Return value type"
                        },
                        "async": {
                          "type": "boolean",
                          "default": false,
                          "description": "Whether method returns a Promise"
                        }
                      },
                      "required": [
                        "name"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "events": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Event name"
                        },
                        "description": {
                          "type": "string"
                        },
                        "payload": {
                          "type": "string",
                          "description": "Event payload type"
                        }
                      },
                      "required": [
                        "name"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "stability": {
                    "type": "string",
                    "enum": [
                      "stable",
                      "beta",
                      "alpha",
                      "experimental"
                    ],
                    "default": "stable"
                  }
                },
                "required": [
                  "id",
                  "name",
                  "version",
                  "methods"
                ],
                "additionalProperties": false
              },
              "description": "Services/APIs this plugin offers to others"
            },
            "requires": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "pluginId": {
                    "type": "string",
                    "pattern": "^([a-z][a-z0-9]*\\.)+[a-z][a-z0-9-]+$",
                    "description": "Required plugin identifier"
                  },
                  "version": {
                    "type": "string",
                    "description": "Semantic version constraint"
                  },
                  "optional": {
                    "type": "boolean",
                    "default": false
                  },
                  "reason": {
                    "type": "string"
                  },
                  "requiredCapabilities": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Protocol IDs the dependency must support"
                  }
                },
                "required": [
                  "pluginId",
                  "version"
                ],
                "additionalProperties": false
              },
              "description": "Required plugins and their capabilities"
            },
            "extensionPoints": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "pattern": "^([a-z][a-z0-9]*\\.)+extension\\.[a-z][a-z0-9._]+$",
                    "description": "Unique extension point identifier"
                  },
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "action",
                      "hook",
                      "widget",
                      "provider",
                      "transformer",
                      "validator",
                      "decorator"
                    ]
                  },
                  "contract": {
                    "type": "object",
                    "properties": {
                      "input": {
                        "type": "string",
                        "description": "Input type/schema"
                      },
                      "output": {
                        "type": "string",
                        "description": "Output type/schema"
                      },
                      "signature": {
                        "type": "string",
                        "description": "Function signature if applicable"
                      }
                    },
                    "additionalProperties": false
                  },
                  "cardinality": {
                    "type": "string",
                    "enum": [
                      "single",
                      "multiple"
                    ],
                    "default": "multiple",
                    "description": "Whether multiple extensions can register to this point"
                  }
                },
                "required": [
                  "id",
                  "name",
                  "type"
                ],
                "additionalProperties": false
              },
              "description": "Points where other plugins can extend this plugin"
            },
            "extensions": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "targetPluginId": {
                    "type": "string",
                    "description": "Plugin ID being extended"
                  },
                  "extensionPointId": {
                    "type": "string",
                    "description": "Extension point identifier"
                  },
                  "implementation": {
                    "type": "string",
                    "description": "Path to implementation module"
                  },
                  "priority": {
                    "type": "integer",
                    "default": 100,
                    "description": "Registration priority (lower = higher priority)"
                  }
                },
                "required": [
                  "targetPluginId",
                  "extensionPointId",
                  "implementation"
                ],
                "additionalProperties": false
              },
              "description": "Extensions contributed to other plugins"
            }
          },
          "additionalProperties": false,
          "description": "Plugin capability declarations for interoperability"
        },
        "extensions": {
          "type": "object",
          "additionalProperties": {},
          "description": "Extension points and contributions"
        },
        "loading": {
          "type": "object",
          "properties": {
            "strategy": {
              "type": "string",
              "enum": [
                "eager",
                "lazy",
                "parallel",
                "deferred",
                "on-demand"
              ],
              "description": "Plugin loading strategy",
              "default": "lazy"
            },
            "preload": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "priority": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 100
                },
                "resources": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "metadata",
                      "dependencies",
                      "assets",
                      "code",
                      "services"
                    ]
                  }
                },
                "conditions": {
                  "type": "object",
                  "properties": {
                    "routes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "roles": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "deviceType": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "desktop",
                          "mobile",
                          "tablet"
                        ]
                      }
                    },
                    "minNetworkSpeed": {
                      "type": "string",
                      "enum": [
                        "slow-2g",
                        "2g",
                        "3g",
                        "4g"
                      ]
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin preloading configuration"
            },
            "codeSplitting": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "strategy": {
                  "type": "string",
                  "enum": [
                    "route",
                    "feature",
                    "size",
                    "custom"
                  ],
                  "default": "feature"
                },
                "chunkNaming": {
                  "type": "string",
                  "enum": [
                    "hashed",
                    "named",
                    "sequential"
                  ],
                  "default": "hashed"
                },
                "maxChunkSize": {
                  "type": "integer",
                  "minimum": 10,
                  "description": "Max chunk size in KB"
                },
                "sharedDependencies": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true
                    },
                    "minChunks": {
                      "type": "integer",
                      "minimum": 1,
                      "default": 2
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin code splitting configuration"
            },
            "dynamicImport": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "mode": {
                  "type": "string",
                  "enum": [
                    "async",
                    "sync",
                    "eager",
                    "lazy"
                  ],
                  "default": "async"
                },
                "prefetch": {
                  "type": "boolean",
                  "default": false,
                  "description": "Prefetch module in idle time"
                },
                "preload": {
                  "type": "boolean",
                  "default": false,
                  "description": "Preload module in parallel with parent"
                },
                "webpackChunkName": {
                  "type": "string",
                  "description": "Custom chunk name for webpack"
                },
                "timeout": {
                  "type": "integer",
                  "minimum": 100,
                  "default": 30000,
                  "description": "Dynamic import timeout (ms)"
                },
                "retry": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": true
                    },
                    "maxAttempts": {
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 10,
                      "default": 3
                    },
                    "backoffMs": {
                      "type": "integer",
                      "minimum": 0,
                      "default": 1000,
                      "description": "Exponential backoff base delay"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin dynamic import configuration"
            },
            "initialization": {
              "type": "object",
              "properties": {
                "mode": {
                  "type": "string",
                  "enum": [
                    "sync",
                    "async",
                    "parallel",
                    "sequential"
                  ],
                  "default": "async"
                },
                "timeout": {
                  "type": "integer",
                  "minimum": 100,
                  "default": 30000
                },
                "priority": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 100
                },
                "critical": {
                  "type": "boolean",
                  "default": false,
                  "description": "If true, kernel bootstrap fails if plugin fails"
                },
                "retry": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": false
                    },
                    "maxAttempts": {
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 5,
                      "default": 3
                    },
                    "backoffMs": {
                      "type": "integer",
                      "minimum": 0,
                      "default": 1000
                    }
                  },
                  "additionalProperties": false
                },
                "healthCheckInterval": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Health check interval in ms (0 = disabled)"
                }
              },
              "additionalProperties": false,
              "description": "Plugin initialization configuration"
            },
            "dependencyResolution": {
              "type": "object",
              "properties": {
                "strategy": {
                  "type": "string",
                  "enum": [
                    "strict",
                    "compatible",
                    "latest",
                    "pinned"
                  ],
                  "default": "compatible"
                },
                "peerDependencies": {
                  "type": "object",
                  "properties": {
                    "resolve": {
                      "type": "boolean",
                      "default": true
                    },
                    "onMissing": {
                      "type": "string",
                      "enum": [
                        "error",
                        "warn",
                        "ignore"
                      ],
                      "default": "warn"
                    },
                    "onMismatch": {
                      "type": "string",
                      "enum": [
                        "error",
                        "warn",
                        "ignore"
                      ],
                      "default": "warn"
                    }
                  },
                  "additionalProperties": false
                },
                "optionalDependencies": {
                  "type": "object",
                  "properties": {
                    "load": {
                      "type": "boolean",
                      "default": true
                    },
                    "onFailure": {
                      "type": "string",
                      "enum": [
                        "warn",
                        "ignore"
                      ],
                      "default": "warn"
                    }
                  },
                  "additionalProperties": false
                },
                "conflictResolution": {
                  "type": "string",
                  "enum": [
                    "fail",
                    "latest",
                    "oldest",
                    "manual"
                  ],
                  "default": "latest"
                },
                "circularDependencies": {
                  "type": "string",
                  "enum": [
                    "error",
                    "warn",
                    "allow"
                  ],
                  "default": "warn"
                }
              },
              "additionalProperties": false,
              "description": "Plugin dependency resolution configuration"
            },
            "hotReload": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "strategy": {
                  "type": "string",
                  "enum": [
                    "full",
                    "partial",
                    "state-preserve"
                  ],
                  "default": "full"
                },
                "watchPatterns": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Glob patterns for files to watch"
                },
                "ignorePatterns": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Glob patterns for files to ignore"
                },
                "debounceMs": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 300
                },
                "preserveState": {
                  "type": "boolean",
                  "default": false
                },
                "stateSerialization": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": false
                    },
                    "handler": {
                      "type": "string"
                    }
                  },
                  "additionalProperties": false
                },
                "hooks": {
                  "type": "object",
                  "properties": {
                    "beforeReload": {
                      "type": "string",
                      "description": "Function to call before reload"
                    },
                    "afterReload": {
                      "type": "string",
                      "description": "Function to call after reload"
                    },
                    "onError": {
                      "type": "string",
                      "description": "Function to call on reload error"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin hot reload configuration"
            },
            "caching": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "storage": {
                  "type": "string",
                  "enum": [
                    "memory",
                    "disk",
                    "indexeddb",
                    "hybrid"
                  ],
                  "default": "memory"
                },
                "keyStrategy": {
                  "type": "string",
                  "enum": [
                    "version",
                    "hash",
                    "timestamp"
                  ],
                  "default": "version"
                },
                "ttl": {
                  "type": "integer",
                  "minimum": 0,
                  "description": "Time to live in seconds (0 = infinite)"
                },
                "maxSize": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Max cache size in MB"
                },
                "invalidateOn": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "version-change",
                      "dependency-change",
                      "manual",
                      "error"
                    ]
                  }
                },
                "compression": {
                  "type": "object",
                  "properties": {
                    "enabled": {
                      "type": "boolean",
                      "default": false
                    },
                    "algorithm": {
                      "type": "string",
                      "enum": [
                        "gzip",
                        "brotli",
                        "deflate"
                      ],
                      "default": "gzip"
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin caching configuration"
            },
            "sandboxing": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "isolationLevel": {
                  "type": "string",
                  "enum": [
                    "none",
                    "process",
                    "vm",
                    "iframe",
                    "web-worker"
                  ],
                  "default": "none"
                },
                "allowedCapabilities": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "List of allowed capability IDs"
                },
                "resourceQuotas": {
                  "type": "object",
                  "properties": {
                    "maxMemoryMB": {
                      "type": "integer",
                      "minimum": 1
                    },
                    "maxCpuTimeMs": {
                      "type": "integer",
                      "minimum": 100
                    },
                    "maxFileDescriptors": {
                      "type": "integer",
                      "minimum": 1
                    },
                    "maxNetworkKBps": {
                      "type": "integer",
                      "minimum": 1
                    }
                  },
                  "additionalProperties": false
                },
                "permissions": {
                  "type": "object",
                  "properties": {
                    "allowedAPIs": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "allowedPaths": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "allowedEndpoints": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "allowedEnvVars": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "additionalProperties": false
                }
              },
              "additionalProperties": false,
              "description": "Plugin sandboxing configuration"
            },
            "monitoring": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "metrics": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "load-time",
                      "init-time",
                      "memory-usage",
                      "cpu-usage",
                      "api-calls",
                      "error-rate",
                      "cache-hit-rate"
                    ]
                  }
                },
                "samplingRate": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "default": 1
                },
                "reportingInterval": {
                  "type": "integer",
                  "minimum": 1,
                  "default": 60
                },
                "budgets": {
                  "type": "object",
                  "properties": {
                    "maxLoadTimeMs": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "maxInitTimeMs": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "maxMemoryMB": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "additionalProperties": false
                },
                "onBudgetViolation": {
                  "type": "string",
                  "enum": [
                    "warn",
                    "error",
                    "ignore"
                  ],
                  "default": "warn"
                }
              },
              "additionalProperties": false,
              "description": "Plugin performance monitoring configuration"
            }
          },
          "additionalProperties": false,
          "description": "Plugin loading and runtime behavior configuration"
        }
      },
      "required": [
        "id",
        "version",
        "type",
        "name"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}