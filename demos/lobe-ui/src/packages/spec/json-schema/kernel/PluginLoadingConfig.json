{
  "$ref": "#/definitions/PluginLoadingConfig",
  "definitions": {
    "PluginLoadingConfig": {
      "type": "object",
      "properties": {
        "strategy": {
          "type": "string",
          "enum": [
            "eager",
            "lazy",
            "parallel",
            "deferred",
            "on-demand"
          ],
          "description": "Plugin loading strategy",
          "default": "lazy"
        },
        "preload": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "priority": {
              "type": "integer",
              "minimum": 0,
              "default": 100
            },
            "resources": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "metadata",
                  "dependencies",
                  "assets",
                  "code",
                  "services"
                ]
              }
            },
            "conditions": {
              "type": "object",
              "properties": {
                "routes": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "roles": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "deviceType": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "desktop",
                      "mobile",
                      "tablet"
                    ]
                  }
                },
                "minNetworkSpeed": {
                  "type": "string",
                  "enum": [
                    "slow-2g",
                    "2g",
                    "3g",
                    "4g"
                  ]
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin preloading configuration"
        },
        "codeSplitting": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "strategy": {
              "type": "string",
              "enum": [
                "route",
                "feature",
                "size",
                "custom"
              ],
              "default": "feature"
            },
            "chunkNaming": {
              "type": "string",
              "enum": [
                "hashed",
                "named",
                "sequential"
              ],
              "default": "hashed"
            },
            "maxChunkSize": {
              "type": "integer",
              "minimum": 10,
              "description": "Max chunk size in KB"
            },
            "sharedDependencies": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "minChunks": {
                  "type": "integer",
                  "minimum": 1,
                  "default": 2
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin code splitting configuration"
        },
        "dynamicImport": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "mode": {
              "type": "string",
              "enum": [
                "async",
                "sync",
                "eager",
                "lazy"
              ],
              "default": "async"
            },
            "prefetch": {
              "type": "boolean",
              "default": false,
              "description": "Prefetch module in idle time"
            },
            "preload": {
              "type": "boolean",
              "default": false,
              "description": "Preload module in parallel with parent"
            },
            "webpackChunkName": {
              "type": "string",
              "description": "Custom chunk name for webpack"
            },
            "timeout": {
              "type": "integer",
              "minimum": 100,
              "default": 30000,
              "description": "Dynamic import timeout (ms)"
            },
            "retry": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": true
                },
                "maxAttempts": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 10,
                  "default": 3
                },
                "backoffMs": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 1000,
                  "description": "Exponential backoff base delay"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin dynamic import configuration"
        },
        "initialization": {
          "type": "object",
          "properties": {
            "mode": {
              "type": "string",
              "enum": [
                "sync",
                "async",
                "parallel",
                "sequential"
              ],
              "default": "async"
            },
            "timeout": {
              "type": "integer",
              "minimum": 100,
              "default": 30000
            },
            "priority": {
              "type": "integer",
              "minimum": 0,
              "default": 100
            },
            "critical": {
              "type": "boolean",
              "default": false,
              "description": "If true, kernel bootstrap fails if plugin fails"
            },
            "retry": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "maxAttempts": {
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 5,
                  "default": 3
                },
                "backoffMs": {
                  "type": "integer",
                  "minimum": 0,
                  "default": 1000
                }
              },
              "additionalProperties": false
            },
            "healthCheckInterval": {
              "type": "integer",
              "minimum": 0,
              "description": "Health check interval in ms (0 = disabled)"
            }
          },
          "additionalProperties": false,
          "description": "Plugin initialization configuration"
        },
        "dependencyResolution": {
          "type": "object",
          "properties": {
            "strategy": {
              "type": "string",
              "enum": [
                "strict",
                "compatible",
                "latest",
                "pinned"
              ],
              "default": "compatible"
            },
            "peerDependencies": {
              "type": "object",
              "properties": {
                "resolve": {
                  "type": "boolean",
                  "default": true
                },
                "onMissing": {
                  "type": "string",
                  "enum": [
                    "error",
                    "warn",
                    "ignore"
                  ],
                  "default": "warn"
                },
                "onMismatch": {
                  "type": "string",
                  "enum": [
                    "error",
                    "warn",
                    "ignore"
                  ],
                  "default": "warn"
                }
              },
              "additionalProperties": false
            },
            "optionalDependencies": {
              "type": "object",
              "properties": {
                "load": {
                  "type": "boolean",
                  "default": true
                },
                "onFailure": {
                  "type": "string",
                  "enum": [
                    "warn",
                    "ignore"
                  ],
                  "default": "warn"
                }
              },
              "additionalProperties": false
            },
            "conflictResolution": {
              "type": "string",
              "enum": [
                "fail",
                "latest",
                "oldest",
                "manual"
              ],
              "default": "latest"
            },
            "circularDependencies": {
              "type": "string",
              "enum": [
                "error",
                "warn",
                "allow"
              ],
              "default": "warn"
            }
          },
          "additionalProperties": false,
          "description": "Plugin dependency resolution configuration"
        },
        "hotReload": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "strategy": {
              "type": "string",
              "enum": [
                "full",
                "partial",
                "state-preserve"
              ],
              "default": "full"
            },
            "watchPatterns": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Glob patterns for files to watch"
            },
            "ignorePatterns": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Glob patterns for files to ignore"
            },
            "debounceMs": {
              "type": "integer",
              "minimum": 0,
              "default": 300
            },
            "preserveState": {
              "type": "boolean",
              "default": false
            },
            "stateSerialization": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "handler": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            },
            "hooks": {
              "type": "object",
              "properties": {
                "beforeReload": {
                  "type": "string",
                  "description": "Function to call before reload"
                },
                "afterReload": {
                  "type": "string",
                  "description": "Function to call after reload"
                },
                "onError": {
                  "type": "string",
                  "description": "Function to call on reload error"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin hot reload configuration"
        },
        "caching": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": true
            },
            "storage": {
              "type": "string",
              "enum": [
                "memory",
                "disk",
                "indexeddb",
                "hybrid"
              ],
              "default": "memory"
            },
            "keyStrategy": {
              "type": "string",
              "enum": [
                "version",
                "hash",
                "timestamp"
              ],
              "default": "version"
            },
            "ttl": {
              "type": "integer",
              "minimum": 0,
              "description": "Time to live in seconds (0 = infinite)"
            },
            "maxSize": {
              "type": "integer",
              "minimum": 1,
              "description": "Max cache size in MB"
            },
            "invalidateOn": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "version-change",
                  "dependency-change",
                  "manual",
                  "error"
                ]
              }
            },
            "compression": {
              "type": "object",
              "properties": {
                "enabled": {
                  "type": "boolean",
                  "default": false
                },
                "algorithm": {
                  "type": "string",
                  "enum": [
                    "gzip",
                    "brotli",
                    "deflate"
                  ],
                  "default": "gzip"
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin caching configuration"
        },
        "sandboxing": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "isolationLevel": {
              "type": "string",
              "enum": [
                "none",
                "process",
                "vm",
                "iframe",
                "web-worker"
              ],
              "default": "none"
            },
            "allowedCapabilities": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "List of allowed capability IDs"
            },
            "resourceQuotas": {
              "type": "object",
              "properties": {
                "maxMemoryMB": {
                  "type": "integer",
                  "minimum": 1
                },
                "maxCpuTimeMs": {
                  "type": "integer",
                  "minimum": 100
                },
                "maxFileDescriptors": {
                  "type": "integer",
                  "minimum": 1
                },
                "maxNetworkKBps": {
                  "type": "integer",
                  "minimum": 1
                }
              },
              "additionalProperties": false
            },
            "permissions": {
              "type": "object",
              "properties": {
                "allowedAPIs": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowedPaths": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowedEndpoints": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "allowedEnvVars": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "additionalProperties": false
            }
          },
          "additionalProperties": false,
          "description": "Plugin sandboxing configuration"
        },
        "monitoring": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false
            },
            "metrics": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "load-time",
                  "init-time",
                  "memory-usage",
                  "cpu-usage",
                  "api-calls",
                  "error-rate",
                  "cache-hit-rate"
                ]
              }
            },
            "samplingRate": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 1
            },
            "reportingInterval": {
              "type": "integer",
              "minimum": 1,
              "default": 60
            },
            "budgets": {
              "type": "object",
              "properties": {
                "maxLoadTimeMs": {
                  "type": "integer",
                  "minimum": 0
                },
                "maxInitTimeMs": {
                  "type": "integer",
                  "minimum": 0
                },
                "maxMemoryMB": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "additionalProperties": false
            },
            "onBudgetViolation": {
              "type": "string",
              "enum": [
                "warn",
                "error",
                "ignore"
              ],
              "default": "warn"
            }
          },
          "additionalProperties": false,
          "description": "Plugin performance monitoring configuration"
        }
      },
      "additionalProperties": false,
      "description": "Complete plugin loading configuration"
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}