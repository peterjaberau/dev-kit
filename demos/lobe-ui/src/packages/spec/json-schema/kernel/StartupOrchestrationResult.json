{
  "$ref": "#/definitions/StartupOrchestrationResult",
  "definitions": {
    "StartupOrchestrationResult": {
      "type": "object",
      "properties": {
        "results": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "plugin": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "version": {
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "additionalProperties": true,
                "description": "Plugin metadata"
              },
              "success": {
                "type": "boolean",
                "description": "Whether the plugin started successfully"
              },
              "duration": {
                "type": "number",
                "minimum": 0,
                "description": "Time taken to start the plugin in milliseconds"
              },
              "error": {
                "description": "Error object if startup failed"
              },
              "health": {
                "type": "object",
                "properties": {
                  "healthy": {
                    "type": "boolean",
                    "description": "Whether the plugin is healthy"
                  },
                  "timestamp": {
                    "type": "integer",
                    "description": "Unix timestamp in milliseconds when health check was performed"
                  },
                  "details": {
                    "type": "object",
                    "additionalProperties": {},
                    "description": "Optional plugin-specific health details"
                  },
                  "message": {
                    "type": "string",
                    "description": "Error message if plugin is unhealthy"
                  }
                },
                "required": [
                  "healthy",
                  "timestamp"
                ],
                "additionalProperties": false,
                "description": "Health status after startup if health check was enabled"
              }
            },
            "required": [
              "plugin",
              "success",
              "duration"
            ],
            "additionalProperties": false
          },
          "description": "Startup results for each plugin"
        },
        "totalDuration": {
          "type": "number",
          "minimum": 0,
          "description": "Total time taken for all plugins in milliseconds"
        },
        "allSuccessful": {
          "type": "boolean",
          "description": "Whether all plugins started successfully"
        },
        "rolledBack": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Names of plugins that were rolled back"
        }
      },
      "required": [
        "results",
        "totalDuration",
        "allSuccessful"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}