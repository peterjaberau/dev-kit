{
  "$ref": "#/definitions/QueueConfig",
  "definitions": {
    "QueueConfig": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Queue name (snake_case)"
        },
        "concurrency": {
          "type": "integer",
          "minimum": 1,
          "default": 5,
          "description": "Max concurrent task executions"
        },
        "rateLimit": {
          "type": "object",
          "properties": {
            "max": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "description": "Maximum tasks per duration"
            },
            "duration": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "description": "Duration in milliseconds"
            }
          },
          "required": [
            "max",
            "duration"
          ],
          "additionalProperties": false,
          "description": "Rate limit configuration"
        },
        "defaultRetryPolicy": {
          "type": "object",
          "properties": {
            "maxRetries": {
              "type": "integer",
              "minimum": 0,
              "default": 3,
              "description": "Maximum retry attempts"
            },
            "backoffStrategy": {
              "type": "string",
              "enum": [
                "fixed",
                "linear",
                "exponential"
              ],
              "default": "exponential",
              "description": "Backoff strategy between retries"
            },
            "initialDelayMs": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1000,
              "description": "Initial retry delay in milliseconds"
            },
            "maxDelayMs": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 60000,
              "description": "Maximum retry delay in milliseconds"
            },
            "backoffMultiplier": {
              "type": "number",
              "exclusiveMinimum": 0,
              "default": 2,
              "description": "Multiplier for exponential backoff"
            }
          },
          "additionalProperties": false,
          "description": "Default retry policy for tasks"
        },
        "deadLetterQueue": {
          "type": "string",
          "description": "Dead letter queue name"
        },
        "priority": {
          "type": "integer",
          "minimum": 0,
          "default": 0,
          "description": "Queue priority (lower = higher priority)"
        },
        "autoScale": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "default": false,
              "description": "Enable auto-scaling"
            },
            "minWorkers": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "description": "Minimum workers"
            },
            "maxWorkers": {
              "type": "integer",
              "minimum": 1,
              "default": 10,
              "description": "Maximum workers"
            },
            "scaleUpThreshold": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 100,
              "description": "Queue size to scale up"
            },
            "scaleDownThreshold": {
              "type": "integer",
              "minimum": 0,
              "default": 10,
              "description": "Queue size to scale down"
            }
          },
          "additionalProperties": false,
          "description": "Auto-scaling configuration"
        }
      },
      "required": [
        "name"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}